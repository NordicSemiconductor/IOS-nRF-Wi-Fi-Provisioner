{"primaryContentSections":[{"kind":"content","content":[{"anchor":"Overview","level":2,"type":"heading","text":"Overview"},{"type":"paragraph","inlineContent":[{"type":"codeVoice","code":"NordicWiFiProvisioner"},{"type":"text","text":" provides a "},{"type":"reference","isActive":true,"identifier":"doc:\/\/NordicWiFiProvisioner\/documentation\/NordicWiFiProvisioner\/Scanner"},{"type":"text","text":" class that you can use to scan for nRF-7 Series devices. This class makes all the necessary BLE calls to scan for devices and filter them."}]},{"anchor":"Using-Scanner","level":2,"type":"heading","text":"Using Scanner"},{"anchor":"Create-an-Instance","level":3,"type":"heading","text":"Create an Instance"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To scan for devices, you have to create an instance of "},{"type":"reference","isActive":true,"identifier":"doc:\/\/NordicWiFiProvisioner\/documentation\/NordicWiFiProvisioner\/Scanner"},{"type":"text","text":" and set its "},{"type":"reference","isActive":true,"identifier":"doc:\/\/NordicWiFiProvisioner\/documentation\/NordicWiFiProvisioner\/Scanner\/delegate"},{"type":"text","text":"."}]},{"type":"codeListing","syntax":"swift","code":["class ViewModel: ScannerDelegate {","    var scanResults: [ScanResult] = []","    let scanner: NordicWiFiProvisioner.Scanner","    ","    init() {","        self.scanner = Scanner()","","        \/\/ Set the delegate to receive state updates and scan results.","        self.scanner.delegate = self","    }","}"]},{"anchor":"Check-Scanner-State","level":3,"type":"heading","text":"Check Scanner State"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can also watch for new scanner state. The new state is received in "},{"type":"reference","isActive":true,"identifier":"doc:\/\/NordicWiFiProvisioner\/documentation\/NordicWiFiProvisioner\/ScannerDelegate\/scannerDidUpdateState(_:)"},{"type":"text","text":". This state represesnts the state of the "},{"type":"codeVoice","code":"CoreBluetooth"},{"type":"text","text":" manager."}]},{"type":"codeListing","syntax":"swift","code":["extension ViewModel {","    func scannerDidUpdateState(_ state: NordicWiFiProvisioner.Scanner.State) {","        switch state {","        case .poweredOn:","            print(\"Powered On\")","        case .poweredOff:","            print(\"Powered Off\")","        case .resetting:","            print(\"Resetting\")","        case .unauthorized:","            print(\"Unauthorized\")","        case .unknown:","            print(\"Unknown\")","        case .unsupported:","            print(\"Unsupported\")","        }","    }","}"]},{"anchor":"Start-Scanning","level":3,"type":"heading","text":"Start Scanning"},{"type":"paragraph","inlineContent":[{"type":"text","text":"To start scanning, call "},{"type":"reference","isActive":true,"identifier":"doc:\/\/NordicWiFiProvisioner\/documentation\/NordicWiFiProvisioner\/Scanner\/startScan()"},{"type":"text","text":"."}]},{"type":"paragraph","inlineContent":[{"type":"text","text":"The delegate has 2 methods for tracking the scanning process: "},{"type":"reference","isActive":true,"identifier":"doc:\/\/NordicWiFiProvisioner\/documentation\/NordicWiFiProvisioner\/ScannerDelegate\/scannerStartedScanning()"},{"type":"text","text":" and "},{"type":"reference","isActive":true,"identifier":"doc:\/\/NordicWiFiProvisioner\/documentation\/NordicWiFiProvisioner\/ScannerDelegate\/scannerStoppedScanning()"},{"type":"text","text":"."}]},{"type":"codeListing","syntax":"swift","code":["extension ViewModel {","    func startScan() {","        scanner.startScan()","    }","","    func scannerStartedScanning() {","        print(\"Started Scanning\")","    }","    ","    func scannerStoppedScanning() {","        print(\"Stopped Scanning\")","    }","}"]},{"anchor":"Receive-Scan-Results","level":3,"type":"heading","text":"Receive Scan Results"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can receive scan results by implementing "},{"type":"reference","isActive":true,"identifier":"doc:\/\/NordicWiFiProvisioner\/documentation\/NordicWiFiProvisioner\/ScannerDelegate\/scannerDidDiscover(_:)"}]},{"type":"codeListing","syntax":"swift","code":["extension ViewModel {","    func scannerDidDiscover(_ scanResult: ScanResult) {","        let id = scanResult.id","        let name = scanResult.name","        let version = scanResult.version","        let rssi = scanResult.rssi","        let wifiRSSI = scanResult.wifiRSSI","        let connected = scanResult.connected","        let provisioned = scanResult.provisioned","        ","        \/\/ Check if the device is already in the list.","        if let existingElementIndox = scanResults.firstIndex(where: { $0.id == id }) {","            self.scanResults[existingElementIndox] = scanResult","        } else {","            self.scanResults.append(scanResult)","        }","    }","}"]},{"style":"note","content":[{"type":"paragraph","inlineContent":[{"type":"text","text":"You can get the same result in "},{"type":"reference","isActive":true,"identifier":"doc:\/\/NordicWiFiProvisioner\/documentation\/NordicWiFiProvisioner\/ScannerDelegate\/scannerDidDiscover(_:)"},{"type":"text","text":" few times, so you have to check if you already have the device if you store the results in some collection and update it."}]}],"type":"aside","name":"Note"},{"anchor":"Creating-a-custom-Scanner","level":2,"type":"heading","text":"Creating a custom Scanner"},{"type":"paragraph","inlineContent":[{"type":"text","text":"You can create your own scanner. To do this, you have to create instance of "},{"type":"codeVoice","code":"CBCentralManager"},{"type":"text","text":" and scan for the devices."},{"type":"text","text":" "},{"type":"text","text":"You can use "},{"type":"reference","isActive":true,"identifier":"doc:\/\/NordicWiFiProvisioner\/documentation\/NordicWiFiProvisioner\/ServiceID\/wifi"},{"type":"text","text":" service identifier to filter the results."}]},{"type":"codeListing","syntax":"swift","code":["class CustomScanner: NSObject {","    \/\/\/ Create instance of CBCentralManager and set its delegate.","}","","extension CustomScanner: CBCentralManagerDelegate {","    func centralManagerDidUpdateState(_ central: CBCentralManager) {","        central.scanForPeripherals(withServices: [CBUUID(nsuuid: ServiceID.wifi)])","    }","}"]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/nordicwifiprovisioner\/scanning"],"traits":[{"interfaceLanguage":"swift"}]}],"identifier":{"url":"doc:\/\/NordicWiFiProvisioner\/documentation\/NordicWiFiProvisioner\/Scanning","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Use "},{"type":"reference","isActive":true,"identifier":"doc:\/\/NordicWiFiProvisioner\/documentation\/NordicWiFiProvisioner\/Scanner"},{"type":"text","text":" to scan for nRF-7 Series devices."}],"kind":"article","metadata":{"roleHeading":"Article","title":"Scanning for nRF-7 Series Devices","role":"article","modules":[{"name":"NordicWiFiProvisioner"}]},"hierarchy":{"paths":[["doc:\/\/NordicWiFiProvisioner\/documentation\/NordicWiFiProvisioner","doc:\/\/NordicWiFiProvisioner\/documentation\/NordicWiFiProvisioner\/GettingStarted"]]},"seeAlsoSections":[{"title":"Scanning","identifiers":["doc:\/\/NordicWiFiProvisioner\/documentation\/NordicWiFiProvisioner\/Scanner"],"generated":true}],"references":{"https://developer.apple.com/documentation/corebluetooth/cbcentralmanager":{"title":"CBCentralManager","titleInlineContent":[{"type":"text","text":"CBCentralManager"}],"type":"link","identifier":"https:\/\/developer.apple.com\/documentation\/corebluetooth\/cbcentralmanager","url":"https:\/\/developer.apple.com\/documentation\/corebluetooth\/cbcentralmanager"},"doc://NordicWiFiProvisioner/documentation/NordicWiFiProvisioner/GettingStarted":{"role":"collectionGroup","title":"Getting Started","abstract":[{"type":"text","text":"Discover, connect, and provision Nordic devices using the NordicWiFiProvisioner library."}],"identifier":"doc:\/\/NordicWiFiProvisioner\/documentation\/NordicWiFiProvisioner\/GettingStarted","kind":"article","type":"topic","url":"\/documentation\/nordicwifiprovisioner\/gettingstarted"},"doc://NordicWiFiProvisioner/documentation/NordicWiFiProvisioner/Scanner":{"role":"symbol","title":"Scanner","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"Scanner"}],"abstract":[{"type":"text","text":"An object that uses "},{"type":"reference","isActive":true,"identifier":"https:\/\/developer.apple.com\/documentation\/corebluetooth\/cbcentralmanager"},{"type":"text","text":" to scan for peripherals and filter nRF devices."}],"identifier":"doc:\/\/NordicWiFiProvisioner\/documentation\/NordicWiFiProvisioner\/Scanner","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"Scanner"}],"url":"\/documentation\/nordicwifiprovisioner\/scanner"},"doc://NordicWiFiProvisioner/documentation/NordicWiFiProvisioner":{"role":"collection","title":"NordicWiFiProvisioner","abstract":[{"type":"codeVoice","code":"NordicWiFiProvisioner"},{"type":"text","text":" allows you to provision an nRF-7 Series device with a WiFi network, read the device information, and scan for nearby WiFi networks."}],"identifier":"doc:\/\/NordicWiFiProvisioner\/documentation\/NordicWiFiProvisioner","kind":"symbol","type":"topic","url":"\/documentation\/nordicwifiprovisioner"},"doc://NordicWiFiProvisioner/documentation/NordicWiFiProvisioner/ScannerDelegate/scannerStoppedScanning()":{"role":"symbol","title":"scannerStoppedScanning()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"scannerStoppedScanning"},{"kind":"text","text":"()"}],"abstract":[{"type":"text","text":"Called when scanning for devices stopped."}],"identifier":"doc:\/\/NordicWiFiProvisioner\/documentation\/NordicWiFiProvisioner\/ScannerDelegate\/scannerStoppedScanning()","kind":"symbol","required":true,"type":"topic","url":"\/documentation\/nordicwifiprovisioner\/scannerdelegate\/scannerstoppedscanning()"},"doc://NordicWiFiProvisioner/documentation/NordicWiFiProvisioner/ServiceID/wifi":{"role":"symbol","title":"wifi","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"wifi"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"UUID","preciseIdentifier":"s:10Foundation4UUIDV"}],"abstract":[{"type":"text","text":"The Wi-Fi Provisioning Service identifier."}],"identifier":"doc:\/\/NordicWiFiProvisioner\/documentation\/NordicWiFiProvisioner\/ServiceID\/wifi","kind":"symbol","type":"topic","url":"\/documentation\/nordicwifiprovisioner\/serviceid\/wifi"},"doc://NordicWiFiProvisioner/documentation/NordicWiFiProvisioner/ScannerDelegate/scannerStartedScanning()":{"role":"symbol","title":"scannerStartedScanning()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"scannerStartedScanning"},{"kind":"text","text":"()"}],"abstract":[{"type":"text","text":"Called when scanning for devices started."}],"identifier":"doc:\/\/NordicWiFiProvisioner\/documentation\/NordicWiFiProvisioner\/ScannerDelegate\/scannerStartedScanning()","kind":"symbol","required":true,"type":"topic","url":"\/documentation\/nordicwifiprovisioner\/scannerdelegate\/scannerstartedscanning()"},"doc://NordicWiFiProvisioner/documentation/NordicWiFiProvisioner/Scanner/startScan()":{"role":"symbol","title":"startScan()","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"startScan"},{"kind":"text","text":"()"}],"abstract":[{"type":"text","text":"Starts scanning for devices"}],"identifier":"doc:\/\/NordicWiFiProvisioner\/documentation\/NordicWiFiProvisioner\/Scanner\/startScan()","kind":"symbol","type":"topic","url":"\/documentation\/nordicwifiprovisioner\/scanner\/startscan()"},"doc://NordicWiFiProvisioner/documentation/NordicWiFiProvisioner/Scanner/delegate":{"role":"symbol","title":"delegate","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"delegate"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"ScannerDelegate","preciseIdentifier":"s:21NordicWiFiProvisioner15ScannerDelegateP"},{"kind":"text","text":"?"}],"abstract":[{"type":"text","text":"The delegate that you want to receive scan results."}],"identifier":"doc:\/\/NordicWiFiProvisioner\/documentation\/NordicWiFiProvisioner\/Scanner\/delegate","kind":"symbol","type":"topic","url":"\/documentation\/nordicwifiprovisioner\/scanner\/delegate"},"doc://NordicWiFiProvisioner/documentation/NordicWiFiProvisioner/ScannerDelegate/scannerDidDiscover(_:)":{"role":"symbol","title":"scannerDidDiscover(_:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"scannerDidDiscover"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"ScanResult","preciseIdentifier":"s:21NordicWiFiProvisioner10ScanResultV"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Called when new scan result is received."}],"identifier":"doc:\/\/NordicWiFiProvisioner\/documentation\/NordicWiFiProvisioner\/ScannerDelegate\/scannerDidDiscover(_:)","kind":"symbol","required":true,"type":"topic","url":"\/documentation\/nordicwifiprovisioner\/scannerdelegate\/scannerdiddiscover(_:)"},"doc://NordicWiFiProvisioner/documentation/NordicWiFiProvisioner/ScannerDelegate/scannerDidUpdateState(_:)":{"role":"symbol","title":"scannerDidUpdateState(_:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"scannerDidUpdateState"},{"kind":"text","text":"("},{"kind":"typeIdentifier","text":"Scanner","preciseIdentifier":"s:21NordicWiFiProvisioner7ScannerC"},{"kind":"text","text":"."},{"kind":"typeIdentifier","text":"State","preciseIdentifier":"s:21NordicWiFiProvisioner7ScannerC5StateO"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Called when bluetooth state changes."}],"identifier":"doc:\/\/NordicWiFiProvisioner\/documentation\/NordicWiFiProvisioner\/ScannerDelegate\/scannerDidUpdateState(_:)","kind":"symbol","required":true,"type":"topic","url":"\/documentation\/nordicwifiprovisioner\/scannerdelegate\/scannerdidupdatestate(_:)"}}}